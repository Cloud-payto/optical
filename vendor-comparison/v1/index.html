<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vendor Comparison - Version 1: Data Table Focus</title>
  <link rel="stylesheet" href="../shared/styles-base.css">
  <link rel="stylesheet" href="styles-v1.css">
</head>
<body>
  <div class="header">
    <div class="container">
      <h1>Vendor Price Comparison - Data Table View</h1>
    </div>
  </div>

  <div class="container">
    <!-- Sticky price input section -->
    <div class="sticky-controls">
      <div class="input-group">
        <label for="retailPrice">Retail Frame Price:</label>
        <input type="number" id="retailPrice" placeholder="e.g., 250" value="250">
        <button class="btn btn-primary" onclick="updateCalculations()">Calculate Costs</button>
      </div>
      
      <div class="filter-group">
        <div class="checkbox-group">
          <input type="checkbox" id="myVendors" onchange="filterVendors()">
          <label for="myVendors">Show only my vendors</label>
        </div>
        
        <div class="sort-controls">
          <label for="sortBy">Sort by:</label>
          <select id="sortBy" onchange="sortTable()">
            <option value="cost">Cost (Low to High)</option>
            <option value="discount">Discount % (High to Low)</option>
            <option value="name">Vendor Name</option>
          </select>
        </div>
        
        <div class="checkbox-group">
          <input type="checkbox" id="compareMode" onchange="toggleCompareMode()">
          <label for="compareMode">Compare mode</label>
        </div>
      </div>
    </div>

    <!-- Main data table -->
    <div class="table-container">
      <table id="vendorTable">
        <thead>
          <tr>
            <th class="compare-column">Compare</th>
            <th>Vendor</th>
            <th>Discount %</th>
            <th>Your Cost</th>
            <th>Savings</th>
            <th>Min Order</th>
            <th>Payment Terms</th>
            <th>Shipping</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="vendorTableBody">
          <!-- Dynamic content will be inserted here -->
        </tbody>
      </table>
    </div>

    <!-- Comparison panel -->
    <div id="comparisonPanel" class="comparison-panel">
      <h3>Selected Vendors Comparison</h3>
      <div id="comparisonContent"></div>
      <button class="btn btn-secondary" onclick="clearComparison()">Clear Comparison</button>
    </div>
  </div>

  <!-- Vendor detail modal -->
  <div id="vendorModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="modalVendorName"></h2>
        <button class="modal-close" onclick="closeModal()">&times;</button>
      </div>
      <div id="modalContent"></div>
    </div>
  </div>

  <!-- Custom discount modal -->
  <div id="discountModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Custom Discount for <span id="customVendorName"></span></h2>
        <button class="modal-close" onclick="closeDiscountModal()">&times;</button>
      </div>
      <div class="input-group">
        <label for="customDiscount">Custom Discount %:</label>
        <input type="number" id="customDiscount" min="0" max="100">
        <button class="btn btn-primary" onclick="saveCustomDiscount()">Save</button>
      </div>
    </div>
  </div>

  <script type="module" src="script-v1.js"></script>
</body>
</html>